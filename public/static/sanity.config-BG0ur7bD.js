import{defineConfig as o}from"sanity";import{structureTool as s}from"sanity/structure";import{visionTool as d}from"@sanity/vision";function i(e,t=25){if(!e)return!0;const a={i:.5,l:.5,j:.5,t:.6,f:.6,m:1.5,w:1.5,q:1.4,g:1.3,a:1,b:1,c:1,d:1,e:1,h:1,k:1,n:1,o:1,p:1,r:1,s:1,u:1,v:1,x:1,y:1,z:1,0:1,1:.8,2:1,3:1,4:1,5:1,6:1,7:.9,8:1,9:1," ":.5,",":.4,".":.4,"?":1,"!":.5,":":.4,";":.4,"-":.6,_:1,"'":.3,'"':.5,"(":.5,")":.5,"[":.5,"]":.5,"{":.6,"}":.6,"/":.5,"\\":.5,"&":1.2,"@":1.5,"#":1,$:1,"%":1.5,"^":.8,"*":.8,"+":.8,"=":1},r=1;let n=0;for(let l of e.toLowerCase())n+=a[l]||r;return n>t?`Text too wide for display (approx. width ${n.toFixed(1)} > ${t})`:!0}const u={name:"unit",title:"Rental Unit",type:"document",fields:[{name:"order",title:"Display Order",description:"Lower numbers appear first (1 = first)",type:"number",initialValue:100},{name:"title",title:"Title",type:"object",fields:[{name:"en",title:"English",type:"string",validation:e=>e.required().custom(t=>i(t,20))},{name:"es",title:"Spanish",type:"string",validation:e=>e.required().custom(t=>i(t,20))}]},{name:"slug",title:"Slug",description:"Click the Generate button to create the URL for this specific unit.",type:"slug",options:{source:"title.en",maxLength:96,slugify:e=>e.toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")},validation:e=>e.required()},{name:"price",title:"Monthly Price",type:"number",validation:e=>e.required().min(0)},{name:"address",title:"Address",type:"string",validation:e=>e.required().custom(t=>i(t,30))},{name:"latitude",title:"Latitude",type:"number",description:"Example: 42.9634",validation:e=>e.required().min(-90).max(90)},{name:"longitude",title:"Longitude",type:"number",description:"Example: -85.6681",validation:e=>e.required().min(-180).max(180)},{name:"bedrooms",title:"Bedrooms",type:"number",validation:e=>e.required()},{name:"bathrooms",title:"Bathrooms",type:"number",validation:e=>e.required()},{name:"sqft",title:"Square Feet",type:"number",validation:e=>e.required()},{name:"utilitiesIncluded",title:"Utilities Included",type:"object",validation:e=>e.required(),fields:[{name:"en",title:"English",type:"string",validation:e=>e.required().custom(t=>i(t,33))},{name:"es",title:"Spanish",type:"string",validation:e=>e.required().custom(t=>i(t,33))}]},{name:"petFriendly",title:"Pet Friendly",description:"Leave unchecked if pets are not allowed.",type:"boolean",initialValue:!1},{name:"washerDryer",title:"Washer & Dryer",type:"object",validation:e=>e.required(),fields:[{name:"en",title:"English",type:"string",validation:e=>e.required().custom(t=>i(t,33))},{name:"es",title:"Spanish",type:"string",validation:e=>e.required().custom(t=>i(t,33))}]},{name:"parking",title:"Parking",type:"object",validation:e=>e.required(),fields:[{name:"en",title:"English",type:"string",validation:e=>e.required().custom(t=>i(t,33))},{name:"es",title:"Spanish",type:"string",validation:e=>e.required().custom(t=>i(t,33))}]},{name:"deposit",title:"Security Deposit",description:"If no deposit required, leave blank.",type:"number"},{name:"availability",title:"Availability",type:"object",fields:[{name:"availableFrom",title:"Available From",type:"date",options:{dateFormat:"YYYY-MM-DD"}},{name:"availableNow",title:"Available Now",type:"boolean",description:"Check this if the unit is available immediately."}],validation:e=>e.custom(t=>!t?.availableFrom&&!t?.availableNow?"Either pick a date or check Available Now":!0)},{name:"locationHighlights",title:"What is attractive about this location?",description:"Example: schools nearby, walkability, hospitals, public transit",type:"object",validation:e=>e.required(),fields:[{name:"en",title:"English",type:"string",validation:e=>e.required().custom(t=>i(t,33))},{name:"es",title:"Spanish",type:"string",validation:e=>e.required().custom(t=>i(t,33))}]},{name:"images",title:"Images",type:"array",of:[{type:"image",options:{hotspot:!0}}],validation:e=>e.required().min(2)},{name:"published",title:"Published",type:"boolean",initialValue:!0,validation:e=>e.required()}],preview:{select:{title:"title.en",subtitle:"price",media:"images.0"},prepare({title:e,subtitle:t,media:a}){return{title:e,subtitle:`$${t?.toLocaleString()} / month`,media:a}}}},m=[u],h=o({name:"default",title:"ecorent",projectId:"uxragbo5",dataset:"production",basePath:"/sanity",plugins:[s(),d()],schema:{types:m},vite:{basePath:"/sanity"}});export{h as s};
